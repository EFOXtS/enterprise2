{"ast":null,"code":"import React,{useEffect,useState}from'react';import api from'../api/api';import'../styles/PriceEstimator.css';// Fallback prices (static) in case backend fails\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const fallbackPrices={Residential:{\"1BHK\":5000,\"2BHK\":7000,\"3BHK\":9000},Commercial:{\"Small Office\":8000,\"Large Office\":15000}};function PriceEstimator(){const[serviceType,setServiceType]=useState('Residential');const[size,setSize]=useState('');const[priceData,setPriceData]=useState({});const[estimatedPrice,setEstimatedPrice]=useState(null);const[loading,setLoading]=useState(true);useEffect(()=>{api.get('/api/prices').then(res=>{setPriceData(res.data);setLoading(false);// Default selections\nconst firstType=Object.keys(res.data)[0];setServiceType(firstType);setSize(Object.keys(res.data[firstType])[0]);}).catch(err=>{console.error('Error fetching prices from backend, using fallback.',err);setPriceData(fallbackPrices);setLoading(false);const firstType=Object.keys(fallbackPrices)[0];setServiceType(firstType);setSize(Object.keys(fallbackPrices[firstType])[0]);});},[]);const calculatePrice=()=>{if(priceData[serviceType]&&priceData[serviceType][size]){setEstimatedPrice(priceData[serviceType][size]);}else{setEstimatedPrice('Price not available');}};if(loading)return/*#__PURE__*/_jsx(\"div\",{className:\"price-estimator\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Loading prices...\"})});return/*#__PURE__*/_jsxs(\"div\",{className:\"price-estimator\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Instant Price Estimator\"}),/*#__PURE__*/_jsx(\"select\",{value:serviceType,onChange:e=>{setServiceType(e.target.value);setSize(Object.keys(priceData[e.target.value])[0]);},children:Object.keys(priceData).map(type=>/*#__PURE__*/_jsx(\"option\",{children:type},type))}),/*#__PURE__*/_jsx(\"select\",{value:size,onChange:e=>setSize(e.target.value),children:priceData[serviceType]&&Object.keys(priceData[serviceType]).map(option=>/*#__PURE__*/_jsx(\"option\",{children:option},option))}),/*#__PURE__*/_jsx(\"button\",{onClick:calculatePrice,children:\"Calculate Price\"}),estimatedPrice&&/*#__PURE__*/_jsxs(\"p\",{children:[\"Estimated Price: \\u20B9\",estimatedPrice]})]});}export default PriceEstimator;","map":{"version":3,"names":["React","useEffect","useState","api","jsx","_jsx","jsxs","_jsxs","fallbackPrices","Residential","Commercial","PriceEstimator","serviceType","setServiceType","size","setSize","priceData","setPriceData","estimatedPrice","setEstimatedPrice","loading","setLoading","get","then","res","data","firstType","Object","keys","catch","err","console","error","calculatePrice","className","children","value","onChange","e","target","map","type","option","onClick"],"sources":["/workspaces/enterprise2/src/components/PriceEstimator.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport api from '../api/api';\r\nimport '../styles/PriceEstimator.css';\r\n\r\n// Fallback prices (static) in case backend fails\r\nconst fallbackPrices = {\r\n  Residential: {\r\n    \"1BHK\": 5000,\r\n    \"2BHK\": 7000,\r\n    \"3BHK\": 9000\r\n  },\r\n  Commercial: {\r\n    \"Small Office\": 8000,\r\n    \"Large Office\": 15000\r\n  }\r\n};\r\n\r\nfunction PriceEstimator() {\r\n  const [serviceType, setServiceType] = useState('Residential');\r\n  const [size, setSize] = useState('');\r\n  const [priceData, setPriceData] = useState({});\r\n  const [estimatedPrice, setEstimatedPrice] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    api.get('/api/prices')\r\n      .then(res => {\r\n        setPriceData(res.data);\r\n        setLoading(false);\r\n\r\n        // Default selections\r\n        const firstType = Object.keys(res.data)[0];\r\n        setServiceType(firstType);\r\n        setSize(Object.keys(res.data[firstType])[0]);\r\n      })\r\n      .catch(err => {\r\n        console.error('Error fetching prices from backend, using fallback.', err);\r\n        setPriceData(fallbackPrices);\r\n        setLoading(false);\r\n\r\n        const firstType = Object.keys(fallbackPrices)[0];\r\n        setServiceType(firstType);\r\n        setSize(Object.keys(fallbackPrices[firstType])[0]);\r\n      });\r\n  }, []);\r\n\r\n  const calculatePrice = () => {\r\n    if (priceData[serviceType] && priceData[serviceType][size]) {\r\n      setEstimatedPrice(priceData[serviceType][size]);\r\n    } else {\r\n      setEstimatedPrice('Price not available');\r\n    }\r\n  };\r\n\r\n  if (loading) return <div className=\"price-estimator\"><p>Loading prices...</p></div>;\r\n\r\n  return (\r\n    <div className=\"price-estimator\">\r\n      <h2>Instant Price Estimator</h2>\r\n      <select value={serviceType} onChange={e => {\r\n        setServiceType(e.target.value);\r\n        setSize(Object.keys(priceData[e.target.value])[0]);\r\n      }}>\r\n        {Object.keys(priceData).map(type => <option key={type}>{type}</option>)}\r\n      </select>\r\n      <select value={size} onChange={e => setSize(e.target.value)}>\r\n        {priceData[serviceType] && Object.keys(priceData[serviceType]).map(option => (\r\n          <option key={option}>{option}</option>\r\n        ))}\r\n      </select>\r\n      <button onClick={calculatePrice}>Calculate Price</button>\r\n      {estimatedPrice && <p>Estimated Price: â‚¹{estimatedPrice}</p>}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PriceEstimator;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}