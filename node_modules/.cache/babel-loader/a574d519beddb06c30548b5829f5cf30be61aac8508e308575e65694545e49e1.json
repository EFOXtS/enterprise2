{"ast":null,"code":"import React,{useEffect,useState}from'react';import api from'../api/api';import'../styles/ReviewsSlider.css';// Fallback images\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const fallbackBackgrounds=['/images/review-bg1.jpg','/images/review-bg2.jpg','/images/review-bg3.jpg'];// Fallback reviews\nconst fallbackReviews=[{author:\"Rahul\",text:\"Excellent service!\"},{author:\"Priya\",text:\"Safe and reliable shifting.\"},{author:\"Amit\",text:\"Affordable and professional.\"}];function ReviewsSlider(){const[backgrounds,setBackgrounds]=useState([]);const[reviews,setReviews]=useState([]);const[current,setCurrent]=useState(0);const[loading,setLoading]=useState(true);useEffect(()=>{Promise.all([api.get('/api/review-images').catch(()=>({data:fallbackBackgrounds})),api.get('/api/reviews').catch(()=>({data:fallbackReviews}))]).then(_ref=>{let[bgRes,revRes]=_ref;setBackgrounds(bgRes.data.length?bgRes.data:fallbackBackgrounds);setReviews(revRes.data.length?revRes.data:fallbackReviews);setLoading(false);});},[]);useEffect(()=>{const interval=setInterval(()=>{setCurrent(prev=>(prev+1)%backgrounds.length);},5000);return()=>clearInterval(interval);},[backgrounds]);if(loading)return/*#__PURE__*/_jsx(\"div\",{className:\"reviews-slider\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Loading reviews...\"})});return/*#__PURE__*/_jsx(\"div\",{className:\"reviews-slider\",style:{backgroundImage:\"url(\".concat(backgrounds[current],\")\")},children:/*#__PURE__*/_jsx(\"div\",{className:\"reviews-container\",children:reviews.map((rev,idx)=>/*#__PURE__*/_jsxs(\"div\",{className:\"review-tile\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"\\\"\",rev.text,\"\\\"\"]}),/*#__PURE__*/_jsxs(\"h4\",{children:[\"- \",rev.author]})]},idx))})});}export default ReviewsSlider;","map":{"version":3,"names":["React","useEffect","useState","api","jsx","_jsx","jsxs","_jsxs","fallbackBackgrounds","fallbackReviews","author","text","ReviewsSlider","backgrounds","setBackgrounds","reviews","setReviews","current","setCurrent","loading","setLoading","Promise","all","get","catch","data","then","_ref","bgRes","revRes","length","interval","setInterval","prev","clearInterval","className","children","style","backgroundImage","concat","map","rev","idx"],"sources":["/workspaces/enterprise2/src/components/ReviewsSlider.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport api from '../api/api';\r\nimport '../styles/ReviewsSlider.css';\r\n\r\n// Fallback images\r\nconst fallbackBackgrounds = [\r\n  '/images/review-bg1.jpg',\r\n  '/images/review-bg2.jpg',\r\n  '/images/review-bg3.jpg'\r\n];\r\n\r\n// Fallback reviews\r\nconst fallbackReviews = [\r\n  { author: \"Rahul\", text: \"Excellent service!\" },\r\n  { author: \"Priya\", text: \"Safe and reliable shifting.\" },\r\n  { author: \"Amit\", text: \"Affordable and professional.\" }\r\n];\r\n\r\nfunction ReviewsSlider() {\r\n  const [backgrounds, setBackgrounds] = useState([]);\r\n  const [reviews, setReviews] = useState([]);\r\n  const [current, setCurrent] = useState(0);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    Promise.all([\r\n      api.get('/api/review-images').catch(() => ({ data: fallbackBackgrounds })),\r\n      api.get('/api/reviews').catch(() => ({ data: fallbackReviews }))\r\n    ])\r\n      .then(([bgRes, revRes]) => {\r\n        setBackgrounds(bgRes.data.length ? bgRes.data : fallbackBackgrounds);\r\n        setReviews(revRes.data.length ? revRes.data : fallbackReviews);\r\n        setLoading(false);\r\n      });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const interval = setInterval(() => {\r\n      setCurrent((prev) => (prev + 1) % backgrounds.length);\r\n    }, 5000);\r\n    return () => clearInterval(interval);\r\n  }, [backgrounds]);\r\n\r\n  if (loading) return <div className=\"reviews-slider\"><p>Loading reviews...</p></div>;\r\n\r\n  return (\r\n    <div\r\n      className=\"reviews-slider\"\r\n      style={{ backgroundImage: `url(${backgrounds[current]})` }}\r\n    >\r\n      <div className=\"reviews-container\">\r\n        {reviews.map((rev, idx) => (\r\n          <div key={idx} className=\"review-tile\">\r\n            <p>\"{rev.text}\"</p>\r\n            <h4>- {rev.author}</h4>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ReviewsSlider;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}